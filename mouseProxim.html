
<!DOCTYPE html>
<!-- <html lang='en' class=''> -->
<head>
<style class="cp-pen-styles">
#main {
		border: 2px solid #000000;
	}
</style>
</head>
<body>
<canvas id="main" width=800 height=800 onmousemove="mouseMoves(event)">
<script >
var c = document.getElementById("main");
var ctx = c.getContext("2d");
var px=[];
var py=[];
var numberOfPoints = 50;
//generate points
for(var i=0;i<numberOfPoints;i++)
  {
    px.push(Math.random()*500);
    py.push(Math.random()*500);
    drawpoints();
  }
function drawpoints()
{
  ctx.beginPath();
    ctx.fillStyle="#aa0000";
    ctx.fillRect(px[i],py[i],5,5);
    ctx.fill();
}
function mouseMoves(e)
{
  x=e.clientX;
	y=e.clientY;
	//draw line
	clearscr();
	drawpoints();
	ctx.fillStyle="#FF0000";
	for(i=0;i<numberOfPoints;i++)
	{
		ctx.fillStyle="#FF0000";
		ctx.fillRect(px[i],py[i],6,6);
	}
	ctx.strokeStyle="#00FF00";
	ctx.beginPath();
	//draw lines from points to mouse
	for(i=0;i<numberOfPoints;i++)
	{
		if((Math.sqrt(Math.pow(px[i]-x, 2)+Math.pow(py[i]-y, 2)))<100)
		{
			ctx.moveTo(px[i]+3,py[i]+3);
			ctx.lineTo(x,y);
			ctx.stroke();
		}
	}
}
function clearscr()
{
	ctx.fillStyle="#000000";
	ctx.fillRect(0,0,2000,2000);
}
</script>
</body></html>